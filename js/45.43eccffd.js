"use strict";(self["webpackChunkhm_shopping"]=self["webpackChunkhm_shopping"]||[]).push([[45],{5129:function(t,e,s){s.r(e),s.d(e,{default:function(){return l}});s(7658);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("van-nav-bar",{attrs:{title:"商品搜索","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词",clearable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goSearch(t.search)}},scopedSlots:t._u([{key:"action",fn:function(){return[e("div",{on:{click:function(e){return t.goSearch(t.search)}}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.history.length>0?e("div",{staticClass:"search-history"},[e("div",{staticClass:"title"},[e("span",[t._v("最近搜索")]),e("van-icon",{attrs:{name:"delete-o",size:"16"},on:{click:t.clear}})],1),e("div",{staticClass:"list"},t._l(t.history,(function(s){return e("div",{key:s,staticClass:"list-item",on:{click:function(e){return t.$router.push("/searchlist")}}},[t._v(t._s(s))])})),0)]):t._e()],1)},a=[],i=(s(541),s(7247)),n={components:{},props:{},name:"SearchIndex",data(){return{search:"",history:(0,i.Sk)()}},computed:{},watch:{},methods:{goSearch(t){const e=this.search.trim();""===e?this.$toast("搜索内容不能为空"):this.$toast(`当前搜索是:${e}`);const s=this.history.indexOf(t);-1!==s&&this.history.splice(s,1),this.history.unshift(t),(0,i.vK)(this.history),this.$router.push(`/searchlist?search=${t}`)},clear(){this.history=[],(0,i.vK)([]),this.$toast.success("清空历史成功")}},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){},deactivated(){}},c=n,o=s(1001),h=(0,o.Z)(c,r,a,!1,null,"a9c02432",null),l=h.exports}}]);
//# sourceMappingURL=45.43eccffd.js.map